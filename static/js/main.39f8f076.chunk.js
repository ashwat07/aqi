(this.webpackJsonpaqi=this.webpackJsonpaqi||[]).push([[0],{251:function(t,e,a){},252:function(t,e,a){},254:function(t,e,a){},389:function(t,e,a){},390:function(t,e,a){"use strict";a.r(e);var c=a(0),i=a.n(c),n=a(47),r=a.n(n),s=(a(251),a(252),a(14));var j=function(){return Object(s.jsx)("div",{className:"header",children:Object(s.jsx)("div",{className:"header__logo",children:Object(s.jsxs)("figure",{children:[Object(s.jsx)("img",{src:"".concat("/aqi","/aqi-icon.png"),alt:"logo"}),Object(s.jsx)("figcaption",{children:"Air Quality Index of Indian Cities"})]})})})},d=a(118),o=a(239),u=a(38),l=a(219),b=a(399),h=function(t){return(t=+t)>400&&t<=500?"card__severe":t>300&&t<=400?"card__vpoor":t>200&&t<=300?"card__poor":t>100&&t<=200?"card__moderate":t>50&&t<=100?"card__satisfactory":t<=50?"card__good":""};a(254);var O=function(t){var e=t.city,a=t.aqi,c=t.updatedAt,i=["card"];return i.push(h(a)),Object(s.jsxs)(b.a,{className:i.join(" "),children:[Object(s.jsxs)("div",{className:"card__title",children:[Object(s.jsx)("i",{className:"fas fa-map-marker-alt"}),Object(s.jsx)("p",{children:e})]}),Object(s.jsx)("div",{className:"card__aqi",children:Object(s.jsx)("p",{children:Number(a).toFixed(2)})}),Object(s.jsxs)("div",{className:"card__time",children:[Object(s.jsx)("p",{children:"Updated:"}),Object(s.jsx)("p",{children:c})]})]})},f=a(215),x=a(216),y=a(170),p=a.n(y),m=function(){function t(){Object(f.a)(this,t),this.data={},this.singleCityData={}}return Object(x.a)(t,[{key:"pushItem",value:function(t){this.data[t.city]?this.update(t):this.data[t.city]=Object(d.a)(Object(d.a)({},t),{},{updatedAt:p()().fromNow()})}},{key:"update",value:function(t){this.data[t.city].aqi=t.aqi,this.data[t.city].updatedAt=p()().fromNow()}},{key:"pushCityData",value:function(t){this.singleCityData[t.city]?this.singleCityData[t.city].push({aqi:t.aqi}):this.singleCityData[t.city]=[{aqi:t.aqi}]}},{key:"getData",value:function(){return this.data}},{key:"getCityData",value:function(t){return this.singleCityData[t]}}]),t}();var v=function(){var t=Object(c.useState)(0),e=Object(u.a)(t,2)[1];return function(){return e((function(t){return t+1}))}},g=a(398),_=[{title:"City",dataIndex:"city",key:"city",render:function(t){return Object(s.jsx)("a",{children:t})}},{title:"AQI",dataIndex:"aqi",key:"AQI",sorter:function(t,e){return t.aqi-e.aqi},render:function(t){return{props:{className:h(t)},children:Object(s.jsx)("div",{children:t})}}}];function N(t){var e=t.tableData.map((function(t,e){return{key:e,city:t.city,aqi:Number(t.aqi).toFixed(2)}}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Comparison"}),Object(s.jsx)(g.a,{dataSource:e,columns:_,pagination:!1})]})}var q=a(393),k=a(240),C=a(397),D=a(233),w=a(234);var S=function(t){var e=t.cityName,a=t.data;return Object(s.jsxs)("div",{className:"center mg-3",children:[Object(s.jsx)("h1",{children:e}),Object(s.jsxs)(q.a,{width:1200,height:500,data:a,children:[Object(s.jsx)(k.a,{type:"monotone",dataKey:"aqi",stroke:"#8884d8"}),Object(s.jsx)(C.a,{stroke:"#ccc"}),Object(s.jsx)(D.a,{dataKey:"name"}),Object(s.jsx)(w.a,{})]})]})},I={WS_URL:"wss://city-ws.herokuapp.com/"},A=new m;var E=function(){var t=Object(c.useState)(!1),e=Object(u.a)(t,2),a=e[0],i=e[1],n=Object(c.useState)([]),r=Object(u.a)(n,2),j=r[0],b=r[1],h=Object(c.useState)(""),f=Object(u.a)(h,2),x=f[0],y=f[1],p=v();return Object(c.useEffect)((function(){var t=new WebSocket(I.WS_URL);return t.onopen=function(){i(!0)},t.onmessage=function(t){var e=JSON.parse(t.data);e.forEach((function(t){A.pushItem(t),A.pushCityData(t),p()}))},function(){t.onclose=function(){i(!1)}}}),[]),a?Object(s.jsxs)("div",{className:"main",children:[Object(s.jsx)("div",{className:"card-wrapper",children:Object.values(A.getData()).map((function(t){return Object(s.jsx)("span",{onClick:function(){return function(t){j.some((function(e){return e.city===t.city}))||b([].concat(Object(o.a)(j),[t])),y(t.city)}(t)},children:Object(s.jsx)(O,Object(d.a)({},t))},t.city)}))}),Object(s.jsx)(N,{tableData:j}),Object(s.jsx)(S,{data:A.getCityData(x),cityName:x})]}):Object(s.jsx)("div",{className:"main",children:Object(s.jsx)(l.a,{size:"large"})})};a(389);var J=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(j,{}),Object(s.jsx)(E,{})]})};r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(J,{})}),document.getElementById("root"))}},[[390,1,2]]]);
//# sourceMappingURL=main.39f8f076.chunk.js.map